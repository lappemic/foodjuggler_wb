(globalThis.webpackChunkbluehostPlugin=globalThis.webpackChunkbluehostPlugin||[]).push([[124],{7124:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var o=n(9307),r=n(5790),s=n(5784),i=n(2200),l=n(5736),a=n(3127);function u(e){let{children:t}=e;return t||(t=[(0,l.__)("You can clone your production site to update your staging site with new content.","bluehost-wordpress-plugin"),(0,l.__)("Making changes in a staging site doesnâ€™t effect your live site.","bluehost-wordpress-plugin"),(0,l.__)("If you want changes in a staging site to take effect on your live site, deploy them.","bluehost-wordpress-plugin")]),(0,o.createElement)(r.Zm,{settings:{adaptiveHeight:!0,arrows:!1,autoplay:!0,autoplaySpeed:1e4,dots:!0,infinite:!0,pauseOnDotsHover:!0,pauseOnHover:!0}},o.Children.map(t,(e=>(0,o.createElement)("p",null,(0,o.createElement)("span",null,(0,l.__)("Tip:","bluehost-wordpress-plugin"))," ",e))))}function c(e){let{}=e;return(0,o.createElement)(r.J4,{className:"bluehost-staging__overlay"},(0,o.createElement)("h1",null,(0,l.__)("Cloning Production Site","bluehost-wordpress-plugin")),(0,o.createElement)("p",null,(0,l.__)("This should only take a minute","bluehost-wordpress-plugin")),(0,o.createElement)("img",{className:"bluehost-staging__overlay-image",src:i.AD,width:"555",height:"421",alt:""}),(0,o.createElement)(u,null))}function h(e){let{onClick:t,onClose:n}=e;return(0,o.createElement)(r.q5,{actionsComponent:(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.Ri,null,(0,l.__)("This action cannot be undone","bluehost-wordpress-plugin")),(0,o.createElement)(s.I9,{onClick:n},(0,l.__)("Cancel","bluehost-wordpress-plugin")),(0,o.createElement)(s.I9,{isPrimary:!0,onClick:t},(0,l.__)("Clone","bluehost-wordpress-plugin"))),onRequestClose:n,title:(0,l.__)("Clone production to staging?","bluehost-wordpress-plugin")},(0,o.createElement)("p",null,(0,l.__)("Are you sure you want to clone production to staging? This will permanently overwrite your staging site.","bluehost-wordpress-plugin")))}function p(e){let{}=e;return(0,o.createElement)(r.J4,{className:"bluehost-staging__overlay"},(0,o.createElement)("h1",null,(0,l.__)("Deleting Staging Site","bluehost-wordpress-plugin")),(0,o.createElement)("p",null,(0,l.__)("This should only take a minute","bluehost-wordpress-plugin")),(0,o.createElement)("img",{className:"bluehost-staging__overlay-image",src:i.AD,width:"555",height:"421",alt:""}),(0,o.createElement)(u,null))}function g(e){let{onClick:t,onClose:n}=e;return(0,o.createElement)(r.q5,{actionsComponent:(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.Ri,null,(0,l.__)("This action cannot be undone","bluehost-wordpress-plugin")),(0,o.createElement)(s.I9,{onClick:n},(0,l.__)("Cancel","bluehost-wordpress-plugin")),(0,o.createElement)(s.I9,{isPrimary:!0,onClick:t},(0,l.__)("Delete","bluehost-wordpress-plugin"))),onRequestClose:n,title:(0,l.__)("Delete staging site?","bluehost-wordpress-plugin")},(0,o.createElement)("p",null,(0,l.__)("Are you sure you want to delete this staging site? This will permanently delete the staging instance from your site.","bluehost-wordpress-plugin")))}function d(e){let{type:t="all"}=e;return(0,o.createElement)(r.J4,{className:"bluehost-staging__overlay"},(0,o.createElement)("h1",null,(()=>{switch(t){case"db":return(0,l.__)("Deploying Database to Production Site","bluehost-wordpress-plugin");case"files":return(0,l.__)("Deploying Files to Production Site","bluehost-wordpress-plugin");default:return(0,l.__)("Deploying to Production Site","bluehost-wordpress-plugin")}})()),(0,o.createElement)("p",null,(0,l.__)("This should only take a minute","bluehost-wordpress-plugin")),(0,o.createElement)("img",{className:"bluehost-staging__overlay-image",src:i.AD,width:"555",height:"421",alt:""}),(0,o.createElement)(u,null))}function m(e){let t,n,{onClick:i,onClose:a,type:u="all"}=e;switch(u){case"db":t=(0,l.__)("Deploy Database to Production?","bluehost-wordpress-plugin"),n=(0,l.__)("This will override your production site. Are you sure you want to deploy the database from staging to production?","bluehost-wordpress-plugin");break;case"files":t=(0,l.__)("Deploy Files to Production?","bluehost-wordpress-plugin"),n=(0,l.__)("This will override your production site. Are you sure you want to deploy all staging files to production?","bluehost-wordpress-plugin");break;default:t=(0,l.__)("Deploy to Production?","bluehost-wordpress-plugin"),n=(0,l.__)("This will override your production site. Are you sure you want to deploy everything from staging to production?","bluehost-wordpress-plugin")}return(0,o.createElement)(r.q5,{actionsComponent:(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.Ri,null,(0,l.__)("This action cannot be undone","bluehost-wordpress-plugin")),(0,o.createElement)(s.I9,{onClick:a},(0,l.__)("Cancel","bluehost-wordpress-plugin")),(0,o.createElement)(s.I9,{className:"--delete",isPrimary:!0,onClick:i},(0,l.__)("Deploy","bluehost-wordpress-plugin"))),onRequestClose:a,title:t},(0,o.createElement)("p",null,n))}n(2819);var v=n(6989),f=n.n(v);function y(){const[e,t]=(0,o.useState)("all"),[n,v]=(0,o.useState)(!1),[y,_]=(0,o.useState)(!1),[b,w]=(0,o.useState)(!1),[E,S]=(0,o.useState)(!1),[k,C]=(0,o.useState)(!1),[M,P]=(0,o.useState)(!1),[{hasStaging:x,isCreatingStaging:T,isError:O,isProduction:A,notice:D,productionThumbnailUrl:L,productionUrl:N,stagingThumbnailUrl:I,stagingUrl:j,switchingTo:U},{createEnv:F,cloneEnv:z,deleteEnv:q,deployChanges:R,setNotice:J,switchToEnv:W}]=function(){const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(null),[s,i]=(0,o.useState)(null),[a,u]=(0,o.useState)(null),[c,h]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1),[d,m]=(0,o.useState)(!1),[v,y]=(0,o.useState)(null),[_,b]=(0,o.useState)(null),[w,E]=(0,o.useState)(null),[S,k]=(0,o.useState)(null),[C,M]=(0,o.useState)(null),[P,x]=(0,o.useState)(null),[T,O]=(0,o.useState)(""),A=(0,l.__)("An unknown error has occurred.","bluehost-wordpress-plugin"),D=async e=>{g(!1),m(!0),i(null);try{const t=await f()(e);if(t.hasOwnProperty("status")&&"error"===t.status)throw new Error(t.message);return m(!1),t}catch(e){return m(!1),g(!0),i(("object"==typeof e?e.message:e)||A),null}},L=e=>{e.hasOwnProperty("stagingExists")&&u(e.stagingExists),e.hasOwnProperty("currentEnvironment")&&r("production"===e.currentEnvironment),e.hasOwnProperty("productionDir")&&y(e.productionDir),e.hasOwnProperty("productionThumbnailUrl")&&b(e.productionThumbnailUrl),e.hasOwnProperty("productionUrl")&&E(e.productionUrl),e.hasOwnProperty("stagingDir")&&k(e.stagingDir),e.hasOwnProperty("stagingThumbnailUrl")&&M(e.stagingThumbnailUrl),e.hasOwnProperty("stagingUrl")&&x(e.stagingUrl),e.hasOwnProperty("creationDate")&&t(e.creationDate)};return(0,o.useEffect)((()=>{D({path:"/bluehost/v1/staging"}).then(L)}),[]),[{creationDate:e,hasStaging:a,isCreatingStaging:c,isError:p,isProduction:n,isLoading:d,notice:s,productionDir:v,productionThumbnailUrl:_,productionUrl:w,stagingDir:S,stagingThumbnailUrl:C,stagingUrl:P,switchingTo:T},{cloneEnv:async function(){await D({path:"/bluehost/v1/staging/clone",method:"POST"})&&i((0,l.__)("Website cloned successfully.","bluehost-wordpress-plugin"))},createEnv:async function(){h(!0);const e=await D({path:"/bluehost/v1/staging",method:"POST"});e&&(L(e),i(e.message),g("error"===e.status)),h(!1)},deleteEnv:async function(){await D({path:"/bluehost/v1/staging",method:"DELETE"})&&(u(!1),i((0,l.__)("Staging website destroyed.","bluehost-wordpress-plugin")))},deployChanges:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";await D({path:`/bluehost/v1/staging/deploy?type=${e}`,method:"POST"})&&i((0,l.__)("Changes deployed successfully.","bluehost-wordpress-plugin"))},setNotice:i,switchToEnv:async function(e){O(e);const t=await D({path:`/bluehost/v1/staging/switch-to?env=${e}`});t&&t.hasOwnProperty("load_page")&&(window.location.href=t.load_page)}}]}(),$=e=>{if(D){const t=document.querySelector(".bluehost-snackbar");t&&!t.contains(e.target)&&J(null)}};return(0,o.useEffect)((()=>(D?document.addEventListener("mousedown",$):document.removeEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)})),[D]),(0,o.createElement)(a.r,{className:"bluehost-staging"},(0,o.createElement)(s.qc,{level:"h2",size:1,className:"is-page-title"},(0,l.__)("Staging","bluehost-wordpress-plugin")),(0,o.createElement)("p",null,(0,l.__)("A staging site is a copy of your site where you can safely test changes before publishing them to your production site. It gives you a way to try new things, test updates, and then deploy them when you're ready.","bluehost-wordpress-plugin")),(0,o.createElement)("div",{className:"bluehost-staging__production-env"},(0,o.createElement)(s.qc,{level:"h3",size:2},(0,l.__)("Production site","bluehost-wordpress-plugin")),(0,o.createElement)("p",null,(0,l.__)("This is your live website.","bluehost-wordpress-plugin")),(0,o.createElement)(r.u5,{color:"green",deploymentActionsComponent:x&&(0,o.createElement)(s.I9,{disabled:!A,isSecondary:!0,onClick:()=>v(!0)},(0,l.__)("Clone to Staging","bluehost-wordpress-plugin")),environmentName:(0,l.__)("Live Site","bluehost-wordpress-plugin"),radioButtonComponent:x&&(0,o.createElement)("label",null,A?(0,o.createElement)(i.ij,null):(0,o.createElement)(i.eu,null),(0,o.createElement)("span",{className:"sr-only"},(0,l.__)("Production","bluehost-wordpress-plugin")),(0,o.createElement)("input",{type:"radio",checked:!!A,onChange:()=>W("production")})),title:N})),(0,o.createElement)("div",{className:"bluehost-staging__staging-env"},(0,o.createElement)(s.qc,{level:"h3",size:2},(0,l.__)("Staging site","bluehost-wordpress-plugin")),T?(0,o.createElement)("div",{className:"bluehost-staging__step --creation"},(0,o.createElement)(s.z4,null),(0,o.createElement)("div",null,(0,l.__)("Creating your staging site. This usually takes a few minutes...","bluehost-wordpress-plugin")),(0,o.createElement)("p",null,(0,l.__)("You can wait or close this window and access your staging site from the staging menu after setup is complete.","bluehost-wordpress-plugin"))):x?(0,o.createElement)("div",{className:"bluehost-staging__step --ready"},(0,o.createElement)("p",null,(0,l.__)("This is an unpublished copy of your website.","bluehost-wordpress-plugin")),(0,o.createElement)(r.u5,{color:"black",deploymentActionsComponent:(0,o.createElement)(r.bJ,{disabled:A,options:[{title:(0,l.__)("Deploy All Changes","bluehost-wordpress-plugin"),description:(0,l.__)("Deploy all changes you've made to the filesystem and database of your website.","bluehost-wordpress-plugin"),callback:()=>{t("all"),w(!0)}},{title:(0,l.__)("Deploy Files Only","bluehost-wordpress-plugin"),description:(0,l.__)("This will only upload the files you've changed (i.e. html or css files).","bluehost-wordpress-plugin"),callback:()=>{t("files"),w(!0)}},{title:(0,l.__)("Deploy Database","bluehost-wordpress-plugin"),description:(0,l.__)("Only upload changes you've made to the database on your staging server.","bluehost-wordpress-plugin"),callback:()=>{t("db"),w(!0)}}],width:215}),environmentActionsComponent:A&&(0,o.createElement)(r._y,{label:(0,l.__)("Staging Options","bluehost-wordpress-plugin"),options:[{label:(0,l.__)("Delete","bluehost-wordpress-plugin"),callback:()=>C(!0)}]}),environmentName:(0,l.__)("Staging Site","bluehost-wordpress-plugin"),radioButtonComponent:(0,o.createElement)("label",null,A?(0,o.createElement)(i.eu,null):(0,o.createElement)(i.ij,null),(0,o.createElement)("span",{className:"sr-only"},(0,l.__)("Staging","bluehost-wordpress-plugin")),(0,o.createElement)("input",{type:"radio",checked:!A,onChange:()=>W("staging")})),title:j})):(0,o.createElement)("div",{className:"bluehost-staging__step --default"},(0,o.createElement)("p",null,(0,l.__)("You don't have a staging site yet.","bluehost-wordpress-plugin")),(0,o.createElement)(s.I9,{isPrimary:!0,onClick:F},(0,l.__)("Create Staging Site","bluehost-wordpress-plugin")))),D&&(0,o.createElement)(r.R4,{status:O?"error":"success",title:O?(0,l.__)("Error","bluehost-wordpress-plugin"):(0,l.__)("Success","bluehost-wordpress-plugin"),isDismissible:!0,onRemove:()=>J(null)},(0,o.createElement)("p",null,D)),n&&(0,o.createElement)(h,{onClick:()=>{v(!1),_(!0),z().then((()=>_(!1)))},onClose:()=>v(!1)}),y&&(0,o.createElement)(c,null),k&&(0,o.createElement)(g,{onClick:()=>{C(!1),P(!0),q().then((()=>P(!1)))},onClose:()=>C(!1)}),M&&(0,o.createElement)(p,null),b&&(0,o.createElement)(m,{onClick:()=>{w(!1),S(!0),R(e).then((()=>S(!1)))},onClose:()=>w(!1),type:e}),E&&(0,o.createElement)(d,{type:e}),U&&(0,o.createElement)(r.J4,{className:"bluehost-staging__overlay"},(0,o.createElement)("h1",null,(0,l.sprintf)(/* translators: %s is replaced with the environment name (i.e. Production or Staging) */
(0,l.__)("Loading %s Site","bluehost-wordpress-plugin"),"production"===U?(0,l.__)("Production","bluehost-wordpress-plugin"):(0,l.__)("Staging","bluehost-wordpress-plugin"))),(0,o.createElement)("p",null,(0,l.__)("This should only take a minute","bluehost-wordpress-plugin")),(0,o.createElement)("img",{className:"bluehost-staging__overlay-image",src:i.AD,width:"555",height:"421",alt:""}),(0,o.createElement)(u,null)))}n(4070)},4070:function(e){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=n(1),i=n(7),l=i.get,a=(i.deepValue,i.isArray),u=function(){function e(t,n){var o=n.location,r=void 0===o?0:o,s=n.distance,i=void 0===s?100:s,a=n.threshold,u=void 0===a?.6:a,c=n.maxPatternLength,h=void 0===c?32:c,p=n.caseSensitive,g=void 0!==p&&p,d=n.tokenSeparator,m=void 0===d?/ +/g:d,v=n.findAllMatches,f=void 0!==v&&v,y=n.minMatchCharLength,_=void 0===y?1:y,b=n.id,w=void 0===b?null:b,E=n.keys,S=void 0===E?[]:E,k=n.shouldSort,C=void 0===k||k,M=n.getFn,P=void 0===M?l:M,x=n.sortFn,T=void 0===x?function(e,t){return e.score-t.score}:x,O=n.tokenize,A=void 0!==O&&O,D=n.matchAllTokens,L=void 0!==D&&D,N=n.includeMatches,I=void 0!==N&&N,j=n.includeScore,U=void 0!==j&&j,F=n.verbose,z=void 0!==F&&F;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:i,threshold:u,maxPatternLength:h,isCaseSensitive:g,tokenSeparator:m,findAllMatches:f,minMatchCharLength:_,id:w,keys:S,includeMatches:I,includeScore:U,shouldSort:C,getFn:P,sortFn:T,verbose:z,tokenize:A,matchAllTokens:L},this.setCollection(t),this._processKeys(S)}var t,n;return t=e,(n=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"_processKeys",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&"string"==typeof e[0])for(var t=0,n=e.length;t<n;t+=1){var o=e[t];this._keyWeights[o]=1,this._keyNames.push(o)}else{for(var r=null,s=null,i=0,l=0,a=e.length;l<a;l+=1){var u=e[l];if(!u.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var c=u.name;if(this._keyNames.push(c),!u.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');var h=u.weight;if(h<0||h>1)throw new Error('"weight" property in key must bein the range of [0, 1)');s=null==s?h:Math.max(s,h),r=null==r?h:Math.min(r,h),this._keyWeights[c]=h,i+=h}if(i>1)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),o=n.tokenSearchers,r=n.fullSearcher,s=this._search(o,r);return this._computeScore(s),this.options.shouldSort&&this._sort(s),t.limit&&"number"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),o=0,r=n.length;o<r;o+=1)t.push(new s(n[o],this.options));return{tokenSearchers:t,fullSearcher:new s(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,o={},r=[];if("string"==typeof n[0]){for(var s=0,i=n.length;s<i;s+=1)this._analyze({key:"",value:n[s],record:s,index:s},{resultMap:o,results:r,tokenSearchers:e,fullSearcher:t});return r}for(var l=0,a=n.length;l<a;l+=1)for(var u=n[l],c=0,h=this._keyNames.length;c<h;c+=1){var p=this._keyNames[c];this._analyze({key:p,value:this.options.getFn(u,p),record:u,index:l},{resultMap:o,results:r,tokenSearchers:e,fullSearcher:t})}return r}},{key:"_analyze",value:function(e,t){var n=this,o=e.key,r=e.arrayIndex,s=void 0===r?-1:r,i=e.value,l=e.record,u=e.index,c=t.tokenSearchers,h=void 0===c?[]:c,p=t.fullSearcher,g=t.resultMap,d=void 0===g?{}:g,m=t.results,v=void 0===m?[]:m;!function e(t,r,s,i){if(null!=r)if("string"==typeof r){var l=!1,u=-1,c=0;n._log("\nKey: ".concat(""===o?"--":o));var g=p.search(r);if(n._log('Full text: "'.concat(r,'", score: ').concat(g.score)),n.options.tokenize){for(var m=r.split(n.options.tokenSeparator),f=m.length,y=[],_=0,b=h.length;_<b;_+=1){var w=h[_];n._log('\nPattern: "'.concat(w.pattern,'"'));for(var E=!1,S=0;S<f;S+=1){var k=m[S],C=w.search(k),M={};C.isMatch?(M[k]=C.score,l=!0,E=!0,y.push(C.score)):(M[k]=1,n.options.matchAllTokens||y.push(1)),n._log('Token: "'.concat(k,'", score: ').concat(M[k]))}E&&(c+=1)}u=y[0];for(var P=y.length,x=1;x<P;x+=1)u+=y[x];u/=P,n._log("Token score average:",u)}var T=g.score;u>-1&&(T=(T+u)/2),n._log("Score average:",T);var O=!n.options.tokenize||!n.options.matchAllTokens||c>=h.length;if(n._log("\nCheck Matches: ".concat(O)),(l||g.isMatch)&&O){var A={key:o,arrayIndex:t,value:r,score:T};n.options.includeMatches&&(A.matchedIndices=g.matchedIndices);var D=d[i];D?D.output.push(A):(d[i]={item:s,output:[A]},v.push(d[i]))}}else if(a(r))for(var L=0,N=r.length;L<N;L+=1)e(L,r[L],s,i)}(s,i,l,u)}},{key:"_computeScore",value:function(e){this._log("\n\nComputing score:\n");for(var t=this._keyWeights,n=!!Object.keys(t).length,o=0,r=e.length;o<r;o+=1){for(var s=e[o],i=s.output,l=i.length,a=1,u=0;u<l;u+=1){var c=i[u],h=c.key,p=n?t[h]:1,g=0===c.score&&t&&t[h]>0?Number.EPSILON:c.score;a*=Math.pow(g,p)}s.score=a,this._log(s)}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===o(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t}),2)),n=null}var r=[];this.options.includeMatches&&r.push((function(e,t){var n=e.output;t.matches=[];for(var o=0,r=n.length;o<r;o+=1){var s=n[o];if(0!==s.matchedIndices.length){var i={indices:s.matchedIndices,value:s.value};s.key&&(i.key=s.key),s.hasOwnProperty("arrayIndex")&&s.arrayIndex>-1&&(i.arrayIndex=s.arrayIndex),t.matches.push(i)}}})),this.options.includeScore&&r.push((function(e,t){t.score=e.score}));for(var s=0,i=e.length;s<i;s+=1){var l=e[s];if(this.options.id&&(l.item=this.options.getFn(l.item,this.options.id)[0]),r.length){for(var a={item:l.item},u=0,c=r.length;u<c;u+=1)r[u](l,a);t.push(a)}else t.push(l.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&r(t.prototype,n),e}();e.exports=u},function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=n(2),s=n(3),i=n(6),l=function(){function e(t,n){var o=n.location,r=void 0===o?0:o,s=n.distance,l=void 0===s?100:s,a=n.threshold,u=void 0===a?.6:a,c=n.maxPatternLength,h=void 0===c?32:c,p=n.isCaseSensitive,g=void 0!==p&&p,d=n.tokenSeparator,m=void 0===d?/ +/g:d,v=n.findAllMatches,f=void 0!==v&&v,y=n.minMatchCharLength,_=void 0===y?1:y,b=n.includeMatches,w=void 0!==b&&b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:l,threshold:u,maxPatternLength:h,isCaseSensitive:g,tokenSeparator:m,findAllMatches:f,includeMatches:w,minMatchCharLength:_},this.pattern=g?t:t.toLowerCase(),this.pattern.length<=h&&(this.patternAlphabet=i(this.pattern))}var t,n;return t=e,(n=[{key:"search",value:function(e){var t=this.options,n=t.isCaseSensitive,o=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return o&&(i.matchedIndices=[[0,e.length-1]]),i}var l=this.options,a=l.maxPatternLength,u=l.tokenSeparator;if(this.pattern.length>a)return r(e,this.pattern,u);var c=this.options,h=c.location,p=c.distance,g=c.threshold,d=c.findAllMatches,m=c.minMatchCharLength;return s(e,this.pattern,this.patternAlphabet,{location:h,distance:p,threshold:g,findAllMatches:d,minMatchCharLength:m,includeMatches:o})}}])&&o(t.prototype,n),e}();e.exports=l},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,r=new RegExp(t.replace(n,"\\$&").replace(o,"|")),s=e.match(r),i=!!s,l=[];if(i)for(var a=0,u=s.length;a<u;a+=1){var c=s[a];l.push([e.indexOf(c),c.length-1])}return{score:i?.5:1,isMatch:i,matchedIndices:l}}},function(e,t,n){var o=n(4),r=n(5);e.exports=function(e,t,n,s){for(var i=s.location,l=void 0===i?0:i,a=s.distance,u=void 0===a?100:a,c=s.threshold,h=void 0===c?.6:c,p=s.findAllMatches,g=void 0!==p&&p,d=s.minMatchCharLength,m=void 0===d?1:d,v=s.includeMatches,f=void 0!==v&&v,y=l,_=e.length,b=h,w=e.indexOf(t,y),E=t.length,S=[],k=0;k<_;k+=1)S[k]=0;if(-1!==w){var C=o(t,{errors:0,currentLocation:w,expectedLocation:y,distance:u});if(b=Math.min(C,b),-1!==(w=e.lastIndexOf(t,y+E))){var M=o(t,{errors:0,currentLocation:w,expectedLocation:y,distance:u});b=Math.min(M,b)}}w=-1;for(var P=[],x=1,T=E+_,O=1<<(E<=31?E-1:30),A=0;A<E;A+=1){for(var D=0,L=T;D<L;)o(t,{errors:A,currentLocation:y+L,expectedLocation:y,distance:u})<=b?D=L:T=L,L=Math.floor((T-D)/2+D);T=L;var N=Math.max(1,y-L+1),I=g?_:Math.min(y+L,_)+E,j=Array(I+2);j[I+1]=(1<<A)-1;for(var U=I;U>=N;U-=1){var F=U-1,z=n[e.charAt(F)];if(z&&(S[F]=1),j[U]=(j[U+1]<<1|1)&z,0!==A&&(j[U]|=(P[U+1]|P[U])<<1|1|P[U+1]),j[U]&O&&(x=o(t,{errors:A,currentLocation:F,expectedLocation:y,distance:u}))<=b){if(b=x,(w=F)<=y)break;N=Math.max(1,2*y-w)}}if(o(t,{errors:A+1,currentLocation:y,expectedLocation:y,distance:u})>b)break;P=j}var q={isMatch:w>=0,score:0===x?.001:x};return f&&(q.matchedIndices=r(S,m)),q}},function(e,t){e.exports=function(e,t){var n=t.errors,o=void 0===n?0:n,r=t.currentLocation,s=void 0===r?0:r,i=t.expectedLocation,l=void 0===i?0:i,a=t.distance,u=void 0===a?100:a,c=o/e.length,h=Math.abs(l-s);return u?c+h/u:h?1:c}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],o=-1,r=-1,s=0,i=e.length;s<i;s+=1){var l=e[s];l&&-1===o?o=s:l||-1===o||((r=s-1)-o+1>=t&&n.push([o,r]),o=-1)}return e[s-1]&&s-o>=t&&n.push([o,s-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,o=0;o<n;o+=1)t[e.charAt(o)]=0;for(var r=0;r<n;r+=1)t[e.charAt(r)]|=1<<n-r-1;return t}},function(e,t){var n=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},o=function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)},r=function(e){return"string"==typeof e},s=function(e){return"number"==typeof e};e.exports={get:function(e,t){var i=[];return function e(t,l){if(l){var a=l.indexOf("."),u=l,c=null;-1!==a&&(u=l.slice(0,a),c=l.slice(a+1));var h=t[u];if(null!=h)if(c||!r(h)&&!s(h))if(n(h))for(var p=0,g=h.length;p<g;p+=1)e(h[p],c);else c&&e(h,c);else i.push(o(h))}else i.push(t)}(e,t),i},isArray:n,isString:r,isNum:s,toString:o}}])}}]);